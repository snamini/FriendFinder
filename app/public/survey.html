<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>

  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">

  <script src= "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


</head>
<body class = "grey darken-4">
<form action="/survey" method="post">

  <h1 class="red-text center">NETFLIX & CHILL SURVEY.</h1>



  <div class="row">
      <form class="col s12">
        <div class="row">
          <div class="input-field col s6">
            <i class="material-icons prefix">account_circle</i>
            <input id="name" type="text" class="white-text validate">
            <label for="name">First Name</label>
          </div>
          <div class="input-field col s6">
            <i class="material-icons prefix">phone</i>
            <input id="telephone" type="tel" class="white-text validate">
            <label for="telephone">Telephone</label>
          </div>
        </div>
      </form>
    </div>

<div class = "container">
<!-- Question 1 -->
<div class="row">
    <form action="1">
        <h6 class="white-text">What is your favorite genre?</h6>
    <select id="Q1">
       <p>
         <input value="1" name="group1" type="radio" id="Q1:1" />
         <label for="Q1:1">Comedy</label>
       </p>
       <p>
         <input value="2" name="group1" type="radio" id="Q1:2" />
         <label for="Q1:2">Horror</label>
       </p>
       <p>
         <input value="3" class="with-gap" name="group1" type="radio" id="Q1:3"  />
         <label for="Q3:3">Action</label>
       </p>
         <p>
           <input value="4" name="group1" type="radio" id="Q1:4" />
           <label for="Q1:4">Romantic</label>
       </p>
     </select>
    </form>
</div>

<!-- Question 2 -->

    <div class = "row">
        <form action="2">
        <h6 class= "white-text">Where is your favorite place to watch?</h6>
        <select id="Q2">
       <p>
         <input value="1" name="group2" type="radio" id="Q2:1" />
         <label for="Q2:1">Movie Theatre</label>
       </p>
       <p>
         <input value="2" name="group2" type="radio" id="Q2:2" />
         <label for="Q2:2">Home</label>
       </p>
       <p>
         <input value="3" class="with-gap" name="group2" type="radio" id="Q2:3"  />
         <label for="Q2:3">Drive-in</label>
       </p>
         <p>
           <input value="4" name="group2" type="radio" id="Q2:4" />
           <label for="Q2:4">Friend's House</label>
       </p>
     </select>
     </form>
    </div>

 <!-- Question 3 -->

  <div class = "row">
    <form action="3">
       <h6 class= "white-text">What is your favorite popcorn?</h6>
       <select id="Q3">
      <p>
        <input value="1" name="group3" type="radio" id="Q3:1" />
        <label for="Q3:1">Kettle</label>
      </p>
      <p>
        <input value="2" name="group3" type="radio" id="Q3:2" />
        <label for="Q3:2">Butter</label>
      </p>
      <p>
        <input value="3" class="with-gap" name="group3" type="radio" id="Q3:3"  />
        <label for="Q3:3">White Cheddar</label>
      </p>
        <p>
          <input value="4" name="group3" type="radio" id="Q3:4" />
          <label for="Q3:4">Carmelized</label>
      </p>
    </select>
    </form>
  </div>

  <!-- Question 4 -->

    <div class = "row">
          <form action="4">
          <h6 class= "white-text">Which actor do you rather bang?</h6>
          <select id="Q4">
         <p>
           <input value="1" name="group4" type="radio" id="Q4:1" />
           <label for="Q4:1">Jack Black</label>
         </p>
         <p>
           <input value="2" name="group4" type="radio" id="Q4:2" />
           <label for="Q4:2">Leonardo Decaprio</label>
         </p>
         <p>
           <input value="3" class="with-gap" name="group4" type="radio" id="Q4:3"  />
           <label for="Q4:3">Ryan Gostling</label>
         </p>
           <p>
             <input value="4" name="group4" type="radio" id="Q4:4" />
             <label for="Q4:4">Johnny Depp</label>
         </p>
       </select>
       </form>
     </row>

   <!-- Question 5 -->

    <div class = "row">
           <form action="5">
           <h6 class= "white-text">Which actress do you rather bang?</h6>
           <select id="Q5">
          <p>
            <input value="1" name="group5" type="radio" id="Q5:1" />
            <label for="Q5:1">Angelina Jolie</label>
          </p>
          <p>
            <input value="2" name="group5" type="radio" id="Q5:2" />
            <label for="Q5:2">Natalie Portman</label>
          </p>
          <p>
            <input value="3" class="with-gap" name="group5" type="radio" id="Q5:3"  />
            <label for="Q5:3">Anne Hathaway</label>
          </p>
            <p>
              <input value="4" name="group5" type="radio" id="Q5:4" />
              <label for="Q5:4">Emma Stone</label>
          </p>
        </select>
        </form>
      </row>

    <!-- Question 6 -->

    <div class = "row">
            <form action="6">
            <h6 class= "white-text">What is your favorite movie out of these options?</h6>
            <select id="Q6">
           <p>
             <input value="1" name="group6" type="radio" id="Q6:1" />
             <label for="Q6:1">Fight Club</label>
           </p>
           <p>
             <input value="2" name="group6" type="radio" id="Q6:2" />
             <label for="Q6:2">Hotel Rwanda</label>
           </p>
           <p>
             <input value="3" class="with-gap" name="group6" type="radio" id="Q6:3"  />
             <label for="Q6:3">School of Rock</label>
           </p>
             <p>
               <input value="4" name="group6" type="radio" id="Q6:4" />
               <label for="Q6:4">How to Lose a Man in 10 days</label>
           </p>
         </select>
         </form>
       </row>

     <!-- Question 7 -->

    <div class = "row">
             <form action="7">
             <h6 class= "white-text">There's a new episode of your favorite show tonight! What show might that be?</h6>
             <select id="Q7">
            <p>
              <input value="1" name="group7" type="radio" id="Q7:1" />
              <label for="Q7:1">True Blood</label>
            </p>
            <p>
              <input value="2" name="group7" type="radio" id="Q7:2" />
              <label for="Q7:2">The Office</label>
            </p>
            <p>
              <input value="3" class="with-gap" name="group7" type="radio" id="Q7:3"  />
              <label for="Q7:3">Game of Thrones</label>
            </p>
              <p>
                <input value="4" name="group7" type="radio" id="Q7:4" />
                <label for="Q7:4">Archer</label>
            </p>
          </select>
          </form>
        </row>

      <!-- Question 8 -->

    <div class = "row">
              <form action="8">
              <h6 class= "white-text">What is your favorite music genre of these choices?</h6>
              <select id="Q8">
             <p>
               <input value="1" name="group8" type="radio" id="Q8:1" />
               <label for="Q8:1">Heavy Metal</label>
             </p>
             <p>
               <input value="2" name="group8" type="radio" id="Q8:2" />
               <label for="Q8:2">Acoustic</label>
             </p>
             <p>
               <input value="3" class="with-gap" name="group8" type="radio" id="Q8:3"  />
               <label for="Q8:3">Hip-hop</label>
             </p>
               <p>
                 <input value="4" name="group8" type="radio" id="Q8:4" />
                 <label for="Q8:4">Pop</label>
             </p>
           </select>
           </form>
         </row>

       <!-- Question 9 -->

                <div class = "row">
                    <form action="9">
                    <h6 class= "white-text">Describe yourself in one word.</h6>
                    <select id="Q9">
                   <p>
                     <input value="1" name="group9" type="radio" id="Q9:1" />
                     <label for="Q9:1">Artistic</label>
                   </p>
                   <p>
                     <input value="2" name="group9" type="radio" id="Q9:2" />
                     <label for="Q9:2">Emotional</label>
                   </p>
                   <p>
                     <input value="3" class="with-gap" name="group9" type="radio" id="Q9:3"  />
                     <label for="Q9:3">Hilarious</label>
                   </p>
                     <p>
                       <input value="4" name="group9" type="radio" id="Q9:4" />
                       <label for="Q9:4">Serious</label>
                   </p>
                 </select>
                 </form>
               </row>

        <!-- Question 10 -->

        <div class = "row">
                <form action="10">
                <h6 class= "white-text">Pick a color.</h6>
                <select id="Q10">
               <p>
                 <input value="1" name="group10" type="radio" id="Q10:1" />
                 <label for="Q10:1">Red</label>
               </p>
               <p>
                 <input  value="2" name="group10" type="radio" id="Q10:2" />
                 <label for="Q10:2">Yellow</label>
               </p>
               <p>
                 <input value="3" class="with-gap" name="group10" type="radio" id="Q10:3"  />
                 <label for="Q10:3">Green</label>
               </p>
                 <p>
                   <input value="4" name="group10" type="radio" id="Q10:4" />
                   <label for="Q10:4">Brown</label>
               </p>
              </select>
             </form>
               </div>
          </row>



<!-- SUBMIT -->

<button class="btn waves-effect waves-light" type="submit" name="action" id="go">Submit
 <i class="material-icons right">send</i>
</button>2




<script type="text/javascript">

    // In this code below we create the Front-end Javascript which "POSTS" our form data to our express server.
    // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
    // Our api recognizes the route (/api/survey)... and then runs the associated code (found in api-routes.js).
    // In this case the associated code "saves" the data to the friends.js file

    $("#go").on("click", function() {

      // Here we grab the form elements
      var netflixData = {
              name: $("#name").val().trim(),
              phone: $("#telephone").val().trim(),
              score: [$("input[name=group1]:checked").val(),
              $("input[name=group2]:checked").val(),
              $("input[name=group3]:checked").val(),
              $("input[name=group4]:checked").val(),
              $("input[name=group5]:checked").val(),
              $("input[name=group6]:checked").val(),
              $("input[name=group7]:checked").val(),
              $("input[name=group8]:checked").val(),
              $("input[name=group9]:checked").val(),
              $("input[name=group10]:checked").val()]
            };

            console.log(netflixData);

      // This line is the magic. It"s very similar to the standard ajax function we used.
      // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
      // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
      // depending on if a tables is available or not.

      // Here we get the location of the root page.
      // We use this instead of explicitly saying the URL is localhost:3001 because the url will change when we deploy.
      var currentURL = window.location.origin;

      $.post(currentURL + "/api/friends", netflixData,
        function(data) {

         Materialize.toast("You will soon find your Netflix and Chill Buddy!")

          // Clear the form when submitting
          $("#name").val("");
          $("#telephone").val("");
          $("#Q1").val("");
          $("#Q2").val("");
          $("#Q3").val("");
          $("#Q4").val("");
          $("#Q5").val("");
          $("#Q6").val("");
          $("#Q7").val("");
          $("#Q8").val("");
          $("#Q9").val("");
          $("#Q10").val("");
        });

      return false;
  });

</script>

</body>
</html>
